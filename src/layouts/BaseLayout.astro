---
import '@/styles/global.css';

interface Props {
  title: string;
  description: string;
  canonical?: string;
  ogImage?: string;
  noIndex?: boolean;
}

const {
  title,
  description,
  canonical = Astro.url.href,
  ogImage = 'https://techtime-jp.com/images/logo-white.png',
  noIndex = false
} = Astro.props;

const siteUrl = 'https://techtime-jp.com';
---

<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-V7Q3QV7HGR"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-V7Q3QV7HGR');
    </script>

    <link rel="icon" type="image/png" href="/favicon.png" />
    <link rel="apple-touch-icon" href="/images/logo.png" />

    <title>{title}</title>
    <meta name="description" content={description} />
    <meta name="keywords" content="AI開発,基幹システム,低価格開発,システム開発,文書管理システム,在庫管理システム,顧客管理システム" />

    {noIndex && <meta name="robots" content="noindex, nofollow" />}

    <!-- OGP Tags -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={canonical} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={ogImage} />
    <meta property="og:site_name" content="TechTime株式会社" />
    <meta property="og:locale" content="ja_JP" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={ogImage} />

    <!-- Canonical URL -->
    <link rel="canonical" href={canonical} />

    <!-- Remix Icon -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.0.0/fonts/remixicon.css" rel="stylesheet" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Noto+Sans+JP:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

    <!-- Structured Data: Organization -->
    <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "TechTime株式会社",
      "url": siteUrl,
      "logo": "https://techtime-jp.com/images/logo-white.png",
      "description": "AI駆動開発で実現する圧倒的低価格の基幹システム開発会社",
      "foundingDate": "2020-04-01",
      "address": [
        {
          "@type": "PostalAddress",
          "addressCountry": "JP",
          "addressRegion": "東京都",
          "addressLocality": "渋谷区",
          "postalCode": "150-0002",
          "streetAddress": "渋谷2-19-15宮益坂ビルディング609"
        },
        {
          "@type": "PostalAddress",
          "addressCountry": "JP",
          "addressRegion": "大阪府",
          "addressLocality": "大阪市北区",
          "postalCode": "530-0001",
          "streetAddress": "梅田1丁目2番2号大阪駅前第2ビル12-12"
        }
      ],
      "contactPoint": {
        "@type": "ContactPoint",
        "telephone": "+81-3-4222-3363",
        "contactType": "customer service",
        "email": "kdm@techtime-link.com",
        "availableLanguage": ["Japanese"]
      }
    })} />

    <!-- Structured Data: WebSite -->
    <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "TechTime株式会社",
      "url": siteUrl,
      "description": "AI駆動開発で実現する圧倒的低価格の基幹システム",
      "publisher": {
        "@type": "Organization",
        "name": "TechTime株式会社"
      }
    })} />
  </head>
  <body>
    <slot />

    <!-- Footer -->
    <footer class="border-t border-white/10 bg-[#0A1628]">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 py-8 sm:py-12">
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8 mb-6 sm:mb-8">
          <div>
            <div class="flex items-center gap-3 mb-4">
              <img
                src="/images/logo-white.png"
                alt="TechTime"
                class="h-10 w-auto"
              />
            </div>
            <p class="text-sm text-gray-400">
              AI駆動開発で実現する<br />圧倒的低価格の基幹システム
            </p>
          </div>
          <div>
            <h4 class="text-white font-semibold mb-4">サービス</h4>
            <ul class="space-y-2 text-sm text-gray-400">
              <li><a href="/simulator" class="hover:text-[#00D9FF] transition-colors">見積もりシミュレーター</a></li>
              <li><a href="/systems" class="hover:text-[#00D9FF] transition-colors">対応システム</a></li>
              <li><a href="/ai-development" class="hover:text-[#00D9FF] transition-colors">AI駆動開発</a></li>
            </ul>
          </div>
          <div>
            <h4 class="text-white font-semibold mb-4">企業情報</h4>
            <ul class="space-y-2 text-sm text-gray-400">
              <li><a href="/about" class="hover:text-[#00D9FF] transition-colors">会社概要</a></li>
              <li><a href="/cases" class="hover:text-[#00D9FF] transition-colors">開発事例</a></li>
              <li><a href="/contact" class="hover:text-[#00D9FF] transition-colors">お問い合わせ</a></li>
            </ul>
          </div>
          <div>
            <h4 class="text-white font-semibold mb-4">お問い合わせ</h4>
            <ul class="space-y-2 text-sm text-gray-400">
              <li class="flex items-center gap-2">
                <i class="ri-phone-line text-[#00D9FF] w-4 h-4 flex items-center justify-center"></i>
                <a href="tel:0342223363" class="hover:text-[#00D9FF] transition-colors">03-4222-3363</a>
              </li>
              <li class="flex items-center gap-2">
                <i class="ri-mail-line text-[#00D9FF] w-4 h-4 flex items-center justify-center"></i>
                <a href="mailto:kdm@techtime-link.com" class="hover:text-[#00D9FF] transition-colors">kdm@techtime-link.com</a>
              </li>
            </ul>
          </div>
        </div>
        <div class="pt-6 sm:pt-8 border-t border-white/10 flex flex-col sm:flex-row justify-center items-center gap-3 sm:gap-4">
          <p class="text-xs sm:text-sm text-gray-500 text-center sm:text-left">© 2025 TechTime株式会社. All rights reserved.</p>
        </div>
      </div>
    </footer>
  </body>
</html>
